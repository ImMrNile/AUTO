# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (`AuthService.getCurrentUser()`)
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –º–æ–¥–µ–ª–∏ Product (`wbNmId` –≤–º–µ—Å—Ç–æ `nmId`)
3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–≤—è–∑—å —Å Cabinet (`productCabinets[0].cabinet`)
4. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö

---

## üöÄ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä
```bash
npm run dev
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
```
http://localhost:3000/test-ai-optimization
```

### –®–∞–≥ 3: –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä –∏ –ø–æ–ª—É—á–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- üì¶ –°–ø–∏—Å–æ–∫ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ WB
- üéØ –ö–Ω–æ–ø–∫—É "–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"
- üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–∏–ø—É –¥–∞–Ω–Ω—ã—Ö

---

## üìä –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è

### 1. üîç –ü–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
**API:** `seller-analytics-api.wildberries.ru/api/v2/search-report/product/search-texts`

**–î–∞–Ω–Ω—ã–µ:**
- –¢–æ–ø –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Ç–æ–≤–∞—Ä—É
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ –ø–æ –∫–∞–∂–¥–æ–º—É –∑–∞–ø—Ä–æ—Å—É
- –ü–æ–∑–∏—Ü–∏–∏ –≤ –ø–æ–∏—Å–∫–µ

### 2. üìà –î–∞–Ω–Ω—ã–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
**API:** `seller-analytics-api.wildberries.ru/api/analytics/v3/sales-funnel/products`

**–î–∞–Ω–Ω—ã–µ:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä—ã
- –î–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
- –ó–∞–∫–∞–∑—ã
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

### 3. üì¢ –†–µ–∫–ª–∞–º–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏
**API:** `advert-api.wildberries.ru/adv/v3/fullstats`

**–î–∞–Ω–Ω—ã–µ:**
- –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞
- –†–∞—Å—Ö–æ–¥—ã
- –ö–ª–∏–∫–∏
- CPC, CTR, ROI

### 4. üõí –í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂
**API:** `seller-analytics-api.wildberries.ru/api/analytics/v3/sales-funnel/products/history`

**–î–∞–Ω–Ω—ã–µ:**
- –ò—Å—Ç–æ—Ä–∏—è –≤–æ—Ä–æ–Ω–∫–∏ –ø—Ä–æ–¥–∞–∂
- –î–∏–Ω–∞–º–∏–∫–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
- –¢—Ä–µ–Ω–¥—ã

### 5. üîë –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
**API:** `advert-api.wildberries.ru/adv/v0/normquery/stats`

**–î–∞–Ω–Ω—ã–µ:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É
- CPC, –∫–ª–∏–∫–∏, –∑–∞–∫–∞–∑—ã
- ROI –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

---

## üéØ –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. **–í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞**
   - Dropdown —Å–æ –≤—Å–µ–º–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç nmID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

2. **–ö–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏**
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ API
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏

3. **–ö–∞—Ä—Ç–æ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö**
   - –ö–∞–∂–¥—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
   - –°—Ç–∞—Ç—É—Å: ‚úÖ –ü–æ–ª—É—á–µ–Ω–æ / ‚ùå –û—à–∏–±–∫–∞ / ‚ö™ –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö
   - –†–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–π—Å—è JSON —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–ª—É—á–µ–Ω—ã, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
- ‚ùå –ö—Ä–∞—Å–Ω–∞—è –º–µ—Ç–∫–∞ "–û—à–∏–±–∫–∞"
- –¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏–∏ –∫–∞—Ä—Ç–æ—á–∫–∏
- –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
  - –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ WB API
  - –¢–æ–≤–∞—Ä –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω
  - –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ API
  - –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥

---

## üìã API Endpoint

### GET `/api/products/[id]/optimization-data`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` - ID —Ç–æ–≤–∞—Ä–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "productId": "cm...",
    "nmId": "316867865",
    "searchQueries": { ... },
    "conversion": { ... },
    "campaigns": { ... },
    "salesFunnel": { ... },
    "keywords": { ... },
    "errors": {
      "searchQueries": null,
      "conversion": null,
      "campaigns": "WB API error: 401",
      "salesFunnel": null,
      "keywords": null
    }
  }
}
```

**–û—à–∏–±–∫–∏:**
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `404` - –¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω
- `400` - –¢–æ–∫–µ–Ω WB API –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ —Ç–æ–≤–∞—Ä –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –î–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω—É–∂–Ω–æ:

1. ‚úÖ –¢–æ–≤–∞—Ä –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –Ω–∞ WB (`wbNmId` –∑–∞–ø–æ–ª–Ω–µ–Ω)
2. ‚úÖ –ü—Ä–∏–≤—è–∑–∞–Ω –∫–∞–±–∏–Ω–µ—Ç WB (`productCabinets`)
3. ‚úÖ –¢–æ–∫–µ–Ω WB API –≤ –∫–∞–±–∏–Ω–µ—Ç–µ (`cabinet.apiToken`)
4. ‚úÖ –¢–æ–∫–µ–Ω –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞:
   - Analytics (–∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
   - Promotion (—Ä–µ–∫–ª–∞–º–∞)
   - Content (–∫–æ–Ω—Ç–µ–Ω—Ç)

### –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç:

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏:
- –¢–æ–≤–∞—Ä –Ω–µ–¥–∞–≤–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω (< 24 —á–∞—Å–æ–≤)
- –ù–µ—Ç —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π
- –ù–µ—Ç –ø—Ä–æ–¥–∞–∂/–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- API WB –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

---

## üé® –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI**
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ GPT-4
   - –ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

2. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
   - Cron job –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö

3. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**
   - –ì—Ä–∞—Ñ–∏–∫–∏ —Ç—Ä–µ–Ω–¥–æ–≤
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤
   - –î–∞—à–±–æ—Ä–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

4. **–î–µ–π—Å—Ç–≤–∏—è**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∞–º–∏
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

–û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:3000/test-ai-optimization` üöÄ
