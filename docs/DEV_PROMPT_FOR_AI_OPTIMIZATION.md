# DEV PROMPT: –°–æ–∑–¥–∞–Ω–∏–µ –ö–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ AI –ü—Ä–æ–º—Ç–∞ –¥–ª—è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¢–æ–≤–∞—Ä–æ–≤ WB

## –ó–∞–¥–∞—á–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

–°–æ–∑–¥–∞–π **—Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º—Ç –¥–ª—è AI –∞–≥–µ–Ω—Ç–∞**, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä—ã –Ω–∞ Wildberries –∏ –¥–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø—Ä–æ–¥–∞–∂.

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø—Ä–æ–º—Ç—É

### 1. –†–∞–∑–º–µ—Ä
- **–ú–∞–∫—Å–∏–º—É–º 300,000 —Ç–æ–∫–µ–Ω–æ–≤** –Ω–∞ –≤–µ—Å—å –∑–∞–ø—Ä–æ—Å (–ø—Ä–æ–º—Ç + –¥–∞–Ω–Ω—ã–µ)
- –ü—Ä–æ–º—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∫–æ–º–ø–∞–∫—Ç–Ω—ã–º** (‚â§50,000 —Ç–æ–∫–µ–Ω–æ–≤)
- –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–∞: ~20,000-50,000 —Ç–æ–∫–µ–Ω–æ–≤
- –û—Å—Ç–∞–≤–∏—Ç—å –∑–∞–ø–∞—Å –¥–ª—è –æ—Ç–≤–µ—Ç–∞ AI

### 2. –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞
**–°—Ç—Ä–æ–≥–æ JSON** –±–µ–∑ markdown:
```json
{
  "diagnosis": "string (max 200 chars)",
  "actions": [
    {
      "type": "CREATE_CAMPAIGN|PAUSE_CAMPAIGN|INCREASE_BID|DECREASE_BID|ADD_KEYWORDS|ADD_MINUS_WORDS|UPDATE_PRODUCT_NAME|UPDATE_PRODUCT_DESCRIPTION",
      "priority": "critical|high|medium",
      "autoExecutable": true|false,
      "reason": "string (max 300 chars)",
      "expectedEffect": "string (max 150 chars)",
      "details": {}
    }
  ],
  "forecast": {
    "sales": "string",
    "conversion": "string",
    "roi": "string",
    "confidence": "high|medium|low"
  }
}
```

### 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ú–∞–∫—Å–∏–º—É–º **5 –¥–µ–π—Å—Ç–≤–∏–π** –≤ –æ—Ç–≤–µ—Ç–µ
- –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ, —Å —Ü–∏—Ñ—Ä–∞–º–∏, –≤—ã–ø–æ–ª–Ω–∏–º–æ–µ
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: critical > high > medium
- –¢–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏—è —Å `autoExecutable: true` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º—Ç–∞

### –ë–ª–æ–∫ 1: –†–æ–ª—å –∏ —Ü–µ–ª—å (‚â§500 —Ç–æ–∫–µ–Ω–æ–≤)
```
–¢—ã - AI —ç–∫—Å–ø–µ—Ä—Ç –ø–æ WB. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–æ–≤–∞—Ä—ã –∏ –¥–∞–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Ä–æ—Å—Ç–∞ –ø—Ä–æ–¥–∞–∂.

–¶–ï–õ–¨: –£–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ–¥–∞–∂–∏ —á–µ—Ä–µ–∑ —Ä–µ–∫–ª–∞–º—É, SEO, –∫–æ–Ω—Ç–µ–Ω—Ç.
–§–û–†–ú–ê–¢: –¢–æ–ª—å–∫–æ JSON, –±–µ–∑ markdown.
–õ–ò–ú–ò–¢: –ú–∞–∫—Å–∏–º—É–º 5 –¥–µ–π—Å—Ç–≤–∏–π.
```

### –ë–ª–æ–∫ 2: –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (‚â§300 —Ç–æ–∫–µ–Ω–æ–≤)
```
–ù–û–†–ú–´ WB:
- CTR —Ä–µ–∫–ª–∞–º—ã: >8% (–æ—Ç–ª–∏—á–Ω–æ >15%)
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É: >15% (–æ—Ç–ª–∏—á–Ω–æ >25%)
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –∑–∞–∫–∞–∑: >50% (–æ—Ç–ª–∏—á–Ω–æ >70%)
- ROI: >200% (–æ—Ç–ª–∏—á–Ω–æ >400%)
- CPC: <300‚ÇΩ (–æ—Ç–ª–∏—á–Ω–æ <150‚ÇΩ)
```

### –ë–ª–æ–∫ 3: –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (‚â§2000 —Ç–æ–∫–µ–Ω–æ–≤)
**–°–æ–∫—Ä–∞—Ç–∏—Ç—å –¥–æ –º–∏–Ω–∏–º—É–º–∞, —Ç–æ–ª—å–∫–æ —Å—É—Ç—å:**

```
–î–ï–ô–°–¢–í–ò–Ø:

1. CREATE_CAMPAIGN - —Å–æ–∑–¥–∞—Ç—å —Ä–µ–∫–ª–∞–º—É
   –ö–æ–≥–¥–∞: –Ω–µ—Ç —Ä–µ–∫–ª–∞–º—ã + –æ—Ä–≥–∞–Ω–∏–∫–∞ >100 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤/–Ω–µ–¥–µ–ª—é + –∫–æ–Ω–≤–µ—Ä—Å–∏—è >5%
   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: {type, name, budget, cpm, targetKeywords[]}

2. PAUSE_CAMPAIGN - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–∫–ª–∞–º—É
   –ö–æ–≥–¥–∞: ROI <50% –∏–ª–∏ CPC >500‚ÇΩ –∏–ª–∏ 0 –∑–∞–∫–∞–∑–æ–≤ 7+ –¥–Ω–µ–π
   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: {campaignId}

3. INCREASE_BID - —É–≤–µ–ª–∏—á–∏—Ç—å —Å—Ç–∞–≤–∫—É
   –ö–æ–≥–¥–∞: ROI >200% + CTR >8% + –ø–æ–∑–∏—Ü–∏—è >10
   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: {campaignId, currentBid, newBid, percentIncrease}

4. DECREASE_BID - —É–º–µ–Ω—å—à–∏—Ç—å —Å—Ç–∞–≤–∫—É
   –ö–æ–≥–¥–∞: ROI <100% –∏–ª–∏ CPC >300‚ÇΩ
   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: {campaignId, currentBid, newBid, percentDecrease}

5. ADD_KEYWORDS - –¥–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–∏
   –ö–æ–≥–¥–∞: –Ω–∞—à–ª–∏ –í–ß –∑–∞–ø—Ä–æ—Å—ã (>1000/–º–µ—Å) —Å –∫–æ–Ω–≤–µ—Ä—Å–∏–µ–π >10%
   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: {campaignId, keywords: [{keyword, bid}]}

6. ADD_MINUS_WORDS - –¥–æ–±–∞–≤–∏—Ç—å –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞
   –ö–æ–≥–¥–∞: –∫–ª—é—á —Å–∂–∏–≥–∞–µ—Ç >30% –±—é–¥–∂–µ—Ç–∞ –±–µ–∑ –∑–∞–∫–∞–∑–æ–≤
   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: {campaignId, minusWords: []}

7. UPDATE_PRODUCT_NAME - –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ
   –ö–æ–≥–¥–∞: –ø–æ–∑–∏—Ü–∏—è >20 + –º–∞–ª–æ –∫–ª—é—á–µ–π –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏
   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: {currentName, newName, addedKeywords[]}

8. UPDATE_PRODUCT_DESCRIPTION - –æ–±–Ω–æ–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ
   –ö–æ–≥–¥–∞: –∫–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É <10%
   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: {improvements: []}
```

### –ë–ª–æ–∫ 4: –ü—Ä–∞–≤–∏–ª–∞ (‚â§500 —Ç–æ–∫–µ–Ω–æ–≤)
```
–ü–†–ê–í–ò–õ–ê:
1. –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã (–Ω–µ "–Ω–∏–∑–∫–∏–π", –∞ "CTR 2.3% –ø—Ä–∏ –Ω–æ—Ä–º–µ 8%")
2. –û–±—ä—è—Å–Ω—è–π —ç–∫–æ–Ω–æ–º–∏–∫—É (–Ω–µ "–¥–æ–±–∞–≤–∏—Ç—å", –∞ "—Å—ç–∫–æ–Ω–æ–º–∏—Ç 500‚ÇΩ/–¥–µ–Ω—å")
3. –î–∞–≤–∞–π –ø—Ä–æ–≥–Ω–æ–∑—ã (–Ω–µ "—É–ª—É—á—à–∏—Ç", –∞ "+25% —á–µ—Ä–µ–∑ 3 –¥–Ω—è")
4. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä—É–π:
   - critical: —Å–∂–∏–≥–∞–µ—Ç –±—é–¥–∂–µ—Ç –°–ï–ô–ß–ê–°
   - high: –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (1-3 –¥–Ω—è)
   - medium: –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ
5. –ú–∞–∫—Å–∏–º—É–º 5 –¥–µ–π—Å—Ç–≤–∏–π
```

### –ë–ª–æ–∫ 5: –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ, ‚â§50,000 —Ç–æ–∫–µ–Ω–æ–≤)
**–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É:**

```json
{
  "product": {
    "name": "string",
    "nmId": 123,
    "price": 1000,
    "discountPrice": 900
  },
  "analytics": {
    "totalViews": 5000,
    "totalCart": 250,
    "totalOrders": 40,
    "ctr": 5.0,
    "cartConversion": 5.0,
    "orderConversion": 16.0
  },
  "campaigns": [
    {
      "id": 123,
      "status": 9,
      "type": 8,
      "views": 10000,
      "clicks": 500,
      "ctr": 5.0,
      "cpc": 50,
      "orders": 20,
      "sum": 25000,
      "roi": 200,
      "keywords": [
        {"keyword": "string", "bid": 50, "clicks": 100, "orders": 5}
      ]
    }
  ],
  "searchQueries": [
    {
      "text": "string",
      "frequency": 10000,
      "position": 25,
      "openCard": 5,
      "addToCart": 1,
      "orders": 0
    }
  ]
}
```

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö:**
- –¢–æ–ø-20 –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–µ –≤—Å–µ)
- –¢–æ–ø-10 –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∫–∞–º–ø–∞–Ω–∏–π (–Ω–µ –≤—Å–µ)
- –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ (—Å—Ç–∞—Ç—É—Å 9, 11)
- –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –ø–æ–ª—è

---

## –ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ –ø—Ä–æ–º—Ç–∞ (–∏—Ç–æ–≥–æ–≤—ã–π)

```
–¢—ã - AI —ç–∫—Å–ø–µ—Ä—Ç WB. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–æ–≤–∞—Ä, –¥–∞–≤–∞–π 3-5 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è —Ä–æ—Å—Ç–∞ –ø—Ä–æ–¥–∞–∂.

–§–û–†–ú–ê–¢: –¢–æ–ª—å–∫–æ JSON, –±–µ–∑ markdown.

–ù–û–†–ú–´ WB:
CTR >8%, –∫–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É >15%, –≤ –∑–∞–∫–∞–∑ >50%, ROI >200%, CPC <300‚ÇΩ

–î–ï–ô–°–¢–í–ò–Ø:
1. CREATE_CAMPAIGN - —Å–æ–∑–¥–∞—Ç—å —Ä–µ–∫–ª–∞–º—É (–Ω–µ—Ç —Ä–µ–∫–ª–∞–º—ã + –æ—Ä–≥–∞–Ω–∏–∫–∞ + –∫–æ–Ω–≤–µ—Ä—Å–∏—è >5%)
   {type, name, budget, cpm, targetKeywords[]}

2. PAUSE_CAMPAIGN - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (ROI <50% –∏–ª–∏ 0 –∑–∞–∫–∞–∑–æ–≤ 7+ –¥–Ω–µ–π)
   {campaignId}

3. INCREASE_BID - —É–≤–µ–ª–∏—á–∏—Ç—å —Å—Ç–∞–≤–∫—É (ROI >200% + CTR >8%)
   {campaignId, currentBid, newBid, percentIncrease}

4. DECREASE_BID - —É–º–µ–Ω—å—à–∏—Ç—å —Å—Ç–∞–≤–∫—É (ROI <100% –∏–ª–∏ CPC >300‚ÇΩ)
   {campaignId, currentBid, newBid, percentDecrease}

5. ADD_KEYWORDS - –¥–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–∏ (–í–ß >1000/–º–µ—Å + –∫–æ–Ω–≤–µ—Ä—Å–∏—è >10%)
   {campaignId, keywords: [{keyword, bid}]}

6. ADD_MINUS_WORDS - –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞ (—Å–∂–∏–≥–∞–µ—Ç >30% –±—é–¥–∂–µ—Ç–∞ –±–µ–∑ –∑–∞–∫–∞–∑–æ–≤)
   {campaignId, minusWords: []}

7. UPDATE_PRODUCT_NAME - –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ (–ø–æ–∑–∏—Ü–∏—è >20)
   {currentName, newName, addedKeywords[]}

8. UPDATE_PRODUCT_DESCRIPTION - –æ–±–Ω–æ–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ (–∫–æ–Ω–≤–µ—Ä—Å–∏—è <10%)
   {improvements: []}

–ü–†–ê–í–ò–õ–ê:
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã ("CTR 2.3% –ø—Ä–∏ –Ω–æ—Ä–º–µ 8%")
- –≠–∫–æ–Ω–æ–º–∏–∫–∞ ("—Å—ç–∫–æ–Ω–æ–º–∏—Ç 500‚ÇΩ/–¥–µ–Ω—å")
- –ü—Ä–æ–≥–Ω–æ–∑—ã ("+25% —á–µ—Ä–µ–∑ 3 –¥–Ω—è")
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã: critical (—Å–µ–π—á–∞—Å), high (1-3 –¥–Ω—è), medium (–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ)
- –ú–∞–∫—Å–∏–º—É–º 5 –¥–µ–π—Å—Ç–≤–∏–π

–î–ê–ù–ù–´–ï –¢–û–í–ê–†–ê:
{JSON —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏}

–û–¢–í–ï–¢ (JSON):
{
  "diagnosis": "string (max 200 chars)",
  "actions": [
    {
      "type": "CREATE_CAMPAIGN|...",
      "priority": "critical|high|medium",
      "autoExecutable": true|false,
      "reason": "string (max 300 chars)",
      "expectedEffect": "string (max 150 chars)",
      "details": {}
    }
  ],
  "forecast": {
    "sales": "string",
    "conversion": "string",
    "roi": "string",
    "confidence": "high|medium|low"
  }
}
```

---

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–∫–æ–¥)

```typescript
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π AI
function optimizeDataForAI(data: any) {
  return {
    product: {
      name: data.product.name,
      nmId: data.product.nmId,
      price: data.product.price,
      discountPrice: data.product.discountPrice
    },
    analytics: {
      totalViews: data.analytics.totalViews,
      totalCart: data.analytics.totalCart,
      totalOrders: data.analytics.totalOrders,
      ctr: parseFloat(data.analytics.ctr),
      cartConversion: parseFloat(data.analytics.cartConversion),
      orderConversion: parseFloat(data.analytics.orderConversion)
    },
    // –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏
    campaigns: data.campaigns
      ?.filter((c: any) => c.status === 9 || c.status === 11)
      .map((c: any) => ({
        id: c.id,
        status: c.status,
        type: c.type,
        views: c.views || 0,
        clicks: c.clicks || 0,
        ctr: parseFloat(c.ctr) || 0,
        cpc: parseFloat(c.cpc) || 0,
        orders: c.orders || 0,
        sum: c.sum || 0,
        roi: parseFloat(c.roi) || 0,
        // –¢–æ–ø-10 –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
        keywords: c.keywords?.slice(0, 10).map((k: any) => ({
          keyword: k.keyword,
          bid: k.bid,
          clicks: k.clicks,
          orders: k.orders
        })) || []
      })) || [],
    // –¢–æ–ø-20 –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    searchQueries: data.searchQueries?.slice(0, 20).map((q: any) => ({
      text: q.text,
      frequency: q.frequency,
      position: q.position,
      openCard: q.openCard,
      addToCart: q.addToCart,
      orders: q.orders
    })) || []
  };
}

// –ü–æ–¥—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ (–ø—Ä–∏–º–µ—Ä–Ω–æ)
function estimateTokens(text: string): number {
  // –ü—Ä–∏–º–µ—Ä–Ω–æ 1 —Ç–æ–∫–µ–Ω = 4 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
  return Math.ceil(text.length / 4);
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
function validatePromptSize(prompt: string, data: any): boolean {
  const optimizedData = optimizeDataForAI(data);
  const fullPrompt = prompt + JSON.stringify(optimizedData);
  const tokens = estimateTokens(fullPrompt);
  
  console.log(`üìä –†–∞–∑–º–µ—Ä –ø—Ä–æ–º—Ç–∞: ${tokens.toLocaleString()} —Ç–æ–∫–µ–Ω–æ–≤`);
  
  if (tokens > 300000) {
    console.error(`‚ùå –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç! ${tokens} > 300,000`);
    return false;
  }
  
  if (tokens > 250000) {
    console.warn(`‚ö†Ô∏è –ë–ª–∏–∑–∫–æ –∫ –ª–∏–º–∏—Ç—É: ${tokens}/300,000`);
  }
  
  return true;
}
```

---

## –ò—Ç–æ–≥–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä

**–ü—Ä–æ–º—Ç:** ~5,000 —Ç–æ–∫–µ–Ω–æ–≤ (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π)  
**–î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–∞:** ~20,000-50,000 —Ç–æ–∫–µ–Ω–æ–≤ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)  
**–û—Ç–≤–µ—Ç AI:** ~5,000-10,000 —Ç–æ–∫–µ–Ω–æ–≤  
**–ò–¢–û–ì–û:** ~30,000-65,000 —Ç–æ–∫–µ–Ω–æ–≤ ‚úÖ

**–ó–∞–ø–∞—Å:** 235,000-270,000 —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π —Å–∂–∞—Ç–∏–µ:**
   - –£–±–µ—Ä–∏ —ç–º–æ–¥–∑–∏ –∏–∑ –ø—Ä–æ–º—Ç–∞ (—ç–∫–æ–Ω–æ–º–∏—è ~500 —Ç–æ–∫–µ–Ω–æ–≤)
   - –°–æ–∫—Ä–∞—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã (—ç–∫–æ–Ω–æ–º–∏—è ~2,000 —Ç–æ–∫–µ–Ω–æ–≤)
   - –£–±–µ—Ä–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è

2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ:**
   - –¢–æ–ø-20 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–º–µ—Å—Ç–æ –≤—Å–µ—Ö
   - –¢–æ–ø-10 –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –≤–º–µ—Å—Ç–æ –≤—Å–µ—Ö
   - –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏
   - –û–∫—Ä—É–≥–ª—è–π —á–∏—Å–ª–∞ –¥–æ 2 –∑–Ω–∞–∫–æ–≤

3. **–ö—ç—à–∏—Ä—É–π –ø—Ä–æ–º—Ç:**
   - –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º—Ç –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è ‚Üí –∫—ç—à–∏—Ä—É–π
   - –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   ```typescript
   console.log(`üìä –¢–æ–∫–µ–Ω—ã: –ø—Ä–æ–º—Ç=${promptTokens}, –¥–∞–Ω–Ω—ã–µ=${dataTokens}, –≤—Å–µ–≥–æ=${totalTokens}`);
   ```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```typescript
// –¢–µ—Å—Ç 1: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
const minData = {
  product: { name: "–¢–æ–≤–∞—Ä", nmId: 123, price: 1000, discountPrice: 900 },
  analytics: { totalViews: 100, totalCart: 10, totalOrders: 2, ctr: 10, cartConversion: 10, orderConversion: 20 },
  campaigns: [],
  searchQueries: []
};

// –¢–µ—Å—Ç 2: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
const maxData = {
  product: { name: "–¢–æ–≤–∞—Ä", nmId: 123, price: 1000, discountPrice: 900 },
  analytics: { totalViews: 50000, totalCart: 2500, totalOrders: 400, ctr: 5, cartConversion: 5, orderConversion: 16 },
  campaigns: [/* 5 –∫–∞–º–ø–∞–Ω–∏–π —Å 10 –∫–ª—é—á–∞–º–∏ –∫–∞–∂–¥–∞—è */],
  searchQueries: [/* 20 –∑–∞–ø—Ä–æ—Å–æ–≤ */]
};

// –ü—Ä–æ–≤–µ—Ä–∫–∞
validatePromptSize(compactPrompt, minData); // ~30,000 —Ç–æ–∫–µ–Ω–æ–≤
validatePromptSize(compactPrompt, maxData); // ~65,000 —Ç–æ–∫–µ–Ω–æ–≤
```

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ –ü—Ä–æ–º—Ç —É–ª–æ–∂–∏—Ç—Å—è –≤ 300,000 —Ç–æ–∫–µ–Ω–æ–≤  
‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π  
‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ  
‚úÖ –ó–∞–ø–∞—Å –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è  
