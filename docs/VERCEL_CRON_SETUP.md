# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vercel Cron Jobs –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Vercel Hobby –ø–ª–∞–Ω–∞

**–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:**
- ‚úÖ –ú–∞–∫—Å–∏–º—É–º **2 Cron Jobs**
- ‚è∞ –ö–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **1 —Ä–∞–∑ –≤ –¥–µ–Ω—å** (–Ω–µ —á–∞—â–µ!)
- üö´ –ù–µ–ª—å–∑—è –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞ –∏–ª–∏ 30 –º–∏–Ω—É—Ç –Ω–∞ Hobby –ø–ª–∞–Ω–µ

**–ù–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ:**
1. **`/api/cron/sync-all`** - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ **3:00 UTC** (6:00 –ú–°–ö)
2. **`/api/cron/check-all`** - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ **15:00 UTC** (18:00 –ú–°–ö)

---

## üìã –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Cron Jobs (2 –∑–∞–¥–∞—á–∏, 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å)

### 1. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (`/api/cron/sync-all`)
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** `0 3 * * *` (–≤ 3:00 UTC = 6:00 –ú–°–ö, **1 —Ä–∞–∑ –≤ –¥–µ–Ω—å**)
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
  - ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏–∑ WB Analytics API
  - ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É `ProductAnalytics` (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã, CTR, –∫–æ–Ω–≤–µ—Ä—Å–∏—è)
  - ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ —Å WB
  - ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç —Ü–µ–Ω—ã —Ç–æ–≤–∞—Ä–æ–≤
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### 2. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (`/api/cron/check-all`)
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** `0 15 * * *` (–≤ 15:00 UTC = 18:00 –ú–°–ö, **1 —Ä–∞–∑ –≤ –¥–µ–Ω—å**)
- **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–≤–∞—Ä—ã —Å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–π —Ü–µ–Ω–æ–π
  - ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–µ–Ω—É –µ—Å–ª–∏ WB –∏–∑–º–µ–Ω–∏–ª –µ—ë
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏
  - ‚úÖ AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∫–∞–º–ø–∞–Ω–∏–∏

---

## üîß –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (vercel.json)

```json
{
  "crons": [
    {
      "path": "/api/cron/sync-all",
      "schedule": "0 3 * * *"
    },
    {
      "path": "/api/cron/check-all",
      "schedule": "0 15 * * *"
    }
  ]
}
```

**üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:**
- `0 3 * * *` = –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00 UTC (6:00 –ø–æ –ú–æ—Å–∫–≤–µ)
- `0 15 * * *` = –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 15:00 UTC (18:00 –ø–æ –ú–æ—Å–∫–≤–µ)

**‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –£–∫–ª–∞–¥—ã–≤–∞–µ–º—Å—è –≤ –ª–∏–º–∏—Ç Hobby –ø–ª–∞–Ω–∞ (2 Cron Jobs)
- –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è 2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å (—É—Ç—Ä–æ–º –∏ –≤–µ—á–µ—Ä–æ–º)
- –ú–µ–Ω—å—à–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –∑–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–π
- –ü—Ä–æ—â–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

---

## üìä –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Cron Jobs —Ä–∞–±–æ—Ç–∞—é—Ç

### 1. –í Vercel Dashboard
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Cron Jobs**
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Cron Jobs **Enabled**
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è **2 –∑–∞–¥–∞—á–∏**: `sync-all` –∏ `check-all`

### 2. –í –ª–æ–≥–∞—Ö Vercel
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Logs** –≤ Vercel Dashboard
2. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç –¥–ª—è check-all)
3. –ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏:
   - `üïê [Sync All Cron] –ó–∞–ø—É—Å–∫ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏`
   - `üïê [Check All Cron] –ó–∞–ø—É—Å–∫ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏`
   - `üìä [Sync All Cron] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏...`
   - `üì¶ [Sync All Cron] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤...`
   - `üí∞ [Check All Cron] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω...`
   - `üì¢ [Check All Cron] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–º–ø–∞–Ω–∏–π...`

### 3. –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª—é–±–æ–π Cron Job –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ API:

```bash
# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ + —Ç–æ–≤–∞—Ä—ã)
curl -X GET https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/cron/sync-all

# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Ü–µ–Ω—ã + –∫–∞–º–ø–∞–Ω–∏–∏)
curl -X GET https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/cron/check-all
```

**–°—Ç–∞—Ä—ã–µ endpoints —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç** (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏):
```bash
curl -X GET https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/cron/sync-analytics
curl -X GET https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/cron/sync-products
curl -X GET https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/cron/check-prices
curl -X GET https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/cron/check-campaigns
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Cron Jobs

–í—Å–µ Cron endpoints –∑–∞—â–∏—â–µ–Ω—ã –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:

1. **Vercel Cron (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):**
   - Vercel –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `x-vercel-cron: 1`
   - Endpoints –ø—Ä–æ–≤–µ—Ä—è—é—Ç —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫
   - –¢–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç Vercel –ø—Ä–æ—Ö–æ–¥—è—Ç

2. **CRON_SECRET (–¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞):**
   - –ú–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `CRON_SECRET`
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `Authorization: Bearer ${CRON_SECRET}`
   - –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CRON_SECRET (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –í Vercel Dashboard ‚Üí **Settings** ‚Üí **Environment Variables**
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Name:** `CRON_SECRET`
   - **Value:** `–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ 32 —Å–∏–º–≤–æ–ª–∞)
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

---

## üìà –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ Cron Jobs (Cron Expression)

| –í—ã—Ä–∞–∂–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----------|----------|--------|
| `*/30 * * * *` | –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç | 00:00, 00:30, 01:00, 01:30... |
| `0 */2 * * *` | –ö–∞–∂–¥—ã–µ 2 —á–∞—Å–∞ (–≤ –Ω–∞—á–∞–ª–µ —á–∞—Å–∞) | 00:00, 02:00, 04:00, 06:00... |
| `0 */3 * * *` | –ö–∞–∂–¥—ã–µ 3 —á–∞—Å–∞ (–≤ –Ω–∞—á–∞–ª–µ —á–∞—Å–∞) | 00:00, 03:00, 06:00, 09:00... |
| `0 * * * *` | –ö–∞–∂–¥—ã–π —á–∞—Å | 00:00, 01:00, 02:00, 03:00... |
| `0 0 * * *` | –†–∞–∑ –≤ –¥–µ–Ω—å (–≤ –ø–æ–ª–Ω–æ—á—å UTC) | 00:00 –∫–∞–∂–¥—ã–π –¥–µ–Ω—å |

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –í—Å–µ –≤—Ä–µ–º–µ–Ω–∞ –≤ UTC! –î–ª—è –ú–æ—Å–∫–≤—ã (UTC+3) –Ω—É–∂–Ω–æ –≤—ã—á–µ—Å—Ç—å 3 —á–∞—Å–∞.

---

## üöÄ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç Cron Jobs –∏–∑ `vercel.json`
2. Cron Jobs –Ω–∞—á–∏–Ω–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
3. –ö–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ Vercel Logs
4. –î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## ‚ùì FAQ

### Q: –ü–æ—á–µ–º—É –≤ –ª–æ–≥–∞—Ö –Ω–µ—Ç –∑–∞–ø—É—Å–∫–æ–≤ Cron Jobs?
**A:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- Cron Jobs –≤–∫–ª—é—á–µ–Ω—ã –≤ Vercel Dashboard (Settings ‚Üí Cron Jobs ‚Üí Enabled)
- –ü—Ä–æ–µ–∫—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ production (Cron Jobs —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ production)
- –ü—Ä–æ—à–ª–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è `0 */2 * * *` –Ω—É–∂–Ω–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –Ω–∞—á–∞–ª–∞ —á–µ—Ç–Ω–æ–≥–æ —á–∞—Å–∞)

### Q: –£ –º–µ–Ω—è Hobby –ø–ª–∞–Ω, –±—É–¥—É—Ç –ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å Cron Jobs?
**A:** –î–∞! –ú—ã –æ–±—ä–µ–¥–∏–Ω–∏–ª–∏ 4 –∑–∞–¥–∞—á–∏ –≤ 2 —Ä–æ—É—Ç–µ—Ä–∞, —á—Ç–æ–±—ã —É–ª–æ–∂–∏—Ç—å—Å—è –≤ –ª–∏–º–∏—Ç Hobby –ø–ª–∞–Ω–∞ (2 Cron Jobs). –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ?
**A:** –î–∞! –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `vercel.json`, –∏–∑–º–µ–Ω–∏—Ç–µ `schedule`, –∏ –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç.

### Q: –ö–∞–∫ —á–∞—Å—Ç–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å Cron Jobs?
**A:** 
- **Hobby –ø–ª–∞–Ω:** **1 —Ä–∞–∑ –≤ –¥–µ–Ω—å** (–º–∞–∫—Å–∏–º—É–º 2 –∑–∞–¥–∞—á–∏)
- **Pro –ø–ª–∞–Ω:** –ú–∏–Ω–∏–º—É–º –∫–∞–∂–¥—É—é 1 –º–∏–Ω—É—Ç—É (–¥–æ 40 –∑–∞–¥–∞—á)
- **Enterprise –ø–ª–∞–Ω:** –ú–∏–Ω–∏–º—É–º –∫–∞–∂–¥—É—é 1 –º–∏–Ω—É—Ç—É (–¥–æ 100 –∑–∞–¥–∞—á)

### Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ Cron Job –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π?
**A:** 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (API —Ç–æ–∫–µ–Ω—ã, DATABASE_URL)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É –∫–∞–±–∏–Ω–µ—Ç–æ–≤ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ API —Ç–æ–∫–µ–Ω—ã
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ endpoint –≤—Ä—É—á–Ω—É—é –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

**–ë—ã–ª–æ (–Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ):**
```typescript
const authHeader = request.headers.get('authorization');
const cronSecret = process.env.CRON_SECRET || 'your-secret-key';

if (authHeader !== `Bearer ${cronSecret}`) {
  return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
}
```

**–°—Ç–∞–ª–æ (—Ä–∞–±–æ—Ç–∞–µ—Ç):**
```typescript
// Vercel Cron –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ x-vercel-cron: 1
const isVercelCron = request.headers.get('x-vercel-cron') === '1';
const authHeader = request.headers.get('authorization');
const cronSecret = process.env.CRON_SECRET;

// –†–∞–∑—Ä–µ—à–∞–µ–º –∑–∞–ø—Ä–æ—Å—ã –æ—Ç Vercel Cron –∏–ª–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º CRON_SECRET
const isAuthorized = isVercelCron || (cronSecret && authHeader === `Bearer ${cronSecret}`);

if (!isAuthorized) {
  console.warn('‚ö†Ô∏è –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—É—Å–∫–∞ cron job');
  return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `src/app/api/cron/sync-analytics/route.ts`
- ‚úÖ `src/app/api/cron/sync-products/route.ts`
- ‚úÖ `src/app/api/cron/check-prices/route.ts`
- ‚úÖ `src/app/api/cron/check-campaigns/route.ts`

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å **2 —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö Cron Jobs** –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

**üåÖ sync-all (—É—Ç—Ä–æ–º –≤ 6:00 –ú–°–ö):**
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∑–∞ –ø—Ä–æ—à–µ–¥—à–∏–π –¥–µ–Ω—å
- ‚úÖ –¢–æ–≤–∞—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –û—Å—Ç–∞—Ç–∫–∏ –∏ —Ü–µ–Ω—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

**üåÜ check-all (–≤–µ—á–µ—Ä–æ–º –≤ 18:00 –ú–°–ö):**
- ‚úÖ –¶–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è
- ‚úÖ –ö–∞–º–ø–∞–Ω–∏–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è AI
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–∫–ª–∞–º—ã

**üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üí∞ –£–∫–ª–∞–¥—ã–≤–∞–µ–º—Å—è –≤ Hobby –ø–ª–∞–Ω (2 Cron Jobs, 1 —Ä–∞–∑ –≤ –¥–µ–Ω—å)
- ‚ö° –ú–µ–Ω—å—à–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
- üìä –ü—Ä–æ—â–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- üöÄ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üöÄ –ù—É–∂–Ω—ã –±–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è?

**–î–ª—è Hobby –ø–ª–∞–Ω–∞ –µ—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è
- –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í–Ω–µ—à–Ω–∏–π Cron —Å–µ—Ä–≤–∏—Å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞:
- **cron-job.org** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –¥–æ 50 –∑–∞–¥–∞—á)
- **EasyCron** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –¥–æ 100 –∑–∞–¥–∞—á/–º–µ—Å—è—Ü)
- **GitHub Actions** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```bash
# –î–æ–±–∞–≤—å—Ç–µ CRON_SECRET –≤ .env
CRON_SECRET=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –≤—ã–∑–æ–≤–∞:
curl -X GET https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/cron/sync-all \
  -H "Authorization: Bearer –≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á"
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Upgrade –Ω–∞ Pro –ø–ª–∞–Ω
- 40 Cron Jobs
- –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- $20/–º–µ—Å—è—Ü

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∑–∞–≤—Ç—Ä–∞ —É—Ç—Ä–æ–º!
